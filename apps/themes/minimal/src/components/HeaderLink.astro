---
export interface Props extends astroHTML.JSX.AnchorHTMLAttributes {}

const { href, class: className, ...props } = Astro.props;
const path = Astro.url.pathname.replace(/\/$/, "");
// to not include home /
const isActive =
  typeof href === "string" && href.length > 1
    ? path.substring(1).startsWith(href.substring(1))
    : false;
---

<a
  href={href}
  class:list={[className, { active: isActive }, "header-link"]}
  {...props}
>
  <span class="gradient-text-underline nav-link gradient-colors"><slot /></span>
</a>
<style>
  .gradient-colors {
    --gradient-text-underline-from: var(--text-heading);
    --gradient-text-underline-to: var(--text-heading);
  }

  .header-link {
    display: inline-block;
    text-decoration: none;
  }
 
  .header-link.active {
    font-weight: bolder;
  }
</style>
